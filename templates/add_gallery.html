<html lang="en">
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Gallery</title>
        <link href="/static/css/dash_styles.css" rel="stylesheet" />
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    </head>
    <body class="sb-nav-fixed">
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            <!-- Navbar Brand-->
            <a class="navbar-brand ps-3" href="index.html">The Smart Child</a>
            <!-- Sidebar Toggle-->
            <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
            <!-- Navbar Search-->
           
            <!-- Navbar-->
            
        </nav>
        {% include "admin_sidebar.html" %}
            <div id="layoutSidenav_content">
                <main>
<div class="container p-5">
                                {% if messages %}

  {% for message in messages %}
    <div style="margin-bottom: 20px; padding: 15px; border-radius: 8px; color: #fff; background-color: #007bff;" class="alert alert-warning" role="alert">
      {{ message }}
      <span style="cursor: pointer; float: right; margin-left: 10px; font-weight: bold;" class="close-btn" onclick="this.parentElement.style.display='none';">X</span>
      <h4></h4> 
    </div>
  {% endfor %}
{% endif %}

<script>
  function cancelMessage(){
    document.querySelector(".alert").style.display ="none";
  }
</script>

  
<form method="post" class="col-6 mx-auto card p-3 shadow-lg" enctype='multipart/form-data'>
    {% csrf_token %}
    <h1> Add Gallery</h1>


 

    <div>
      <label style="font-size: medium;">Select Image:</label>
      <input type="file" class="form-control" name="img" id="imageInput" required>
  </div>

  <div>
    <label style="font-size: medium;">Enter Image Description:</label>
    <textarea name="img_desc" style="width: 100%;" required></textarea>
</div>


    &nbsp; &nbsp;&nbsp;
  <input class="btn btn-outline-primary" type="submit" value="Add" name="add" accpet="image/*" style="width: 50%; margin-left: 25%;">
 
</form>
</div>

<h1 style="text-align: center; margin-bottom: 25px; margin-top: 10px;"> Gallery  Details:</h1>
<div class="container" p-3>
<table style="border: 1px solid black; margin: auto; " class="table table-striped">
    <thead class="thead-dark">
<tr>
<th>Sr no.</th>

<th>Image name</th>
<th>Image description</th>
<th>Action</th>
</tr>
</thead>

{%for i in qry%}
<tr>
<td>{{forloop.counter}}</td>
<td><img src="/media/{{i.img}}" style="height:75px"></td>

<td>{{i.img_desc}}</td>
<td>
 <a href='/update_gallery/{{i.id}}' class='btn btn-success'>Edit</a>
 <a href='/delete_gallery/{{i.id}}' class='btn btn-danger'>Delete </a>
 </td>
</tr>
{%endfor%}
</table>
</div>


</body>
</html>
